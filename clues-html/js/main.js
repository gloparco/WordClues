function Mash(){var e=4022871197,t=function(t){t=t.toString();for(var r=0;r<t.length;r++){e+=t.charCodeAt(r);var n=.02519603282416938*e;e=n>>>0,n-=e,n*=e,e=n>>>0,n-=e,e+=4294967296*n}return 2.3283064365386963e-10*(e>>>0)};return t.version="Mash 0.9",t}function Alea(){return function(e){var t=0,r=0,n=0,o=1;0===e.length&&(e=[+new Date]);var s=Mash();t=s(" "),r=s(" "),n=s(" ");for(var a=0;a<e.length;a++)t-=s(e[a]),0>t&&(t+=1),r-=s(e[a]),0>r&&(r+=1),n-=s(e[a]),0>n&&(n+=1);s=null;var i=function(){var e=2091639*t+2.3283064365386963e-10*o;return t=r,r=n,n=e-(o=0|e)};return i.uint32=function(){return 4294967296*i()},i.fract53=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.version="Alea 0.9",i.args=e,i}(Array.prototype.slice.call(arguments))}!function(e,t){"use strict";function r(){if(!n.READY){n.event.determineEventTypes();for(var e in n.gestures)n.gestures.hasOwnProperty(e)&&n.detection.register(n.gestures[e]);n.event.onTouch(n.DOCUMENT,n.EVENT_MOVE,n.detection.detect),n.event.onTouch(n.DOCUMENT,n.EVENT_END,n.detection.detect),n.READY=!0}}var n=function(e,t){return new n.Instance(e,t||{})};n.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},n.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,n.HAS_TOUCHEVENTS="ontouchstart"in e,n.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,n.NO_MOUSEEVENTS=n.HAS_TOUCHEVENTS&&navigator.userAgent.match(n.MOBILE_REGEX),n.EVENT_TYPES={},n.DIRECTION_DOWN="down",n.DIRECTION_LEFT="left",n.DIRECTION_UP="up",n.DIRECTION_RIGHT="right",n.POINTER_MOUSE="mouse",n.POINTER_TOUCH="touch",n.POINTER_PEN="pen",n.EVENT_START="start",n.EVENT_MOVE="move",n.EVENT_END="end",n.DOCUMENT=document,n.plugins={},n.READY=!1,n.Instance=function(e,t){var o=this;return r(),this.element=e,this.enabled=!0,this.options=n.utils.extend(n.utils.extend({},n.defaults),t||{}),this.options.stop_browser_behavior&&n.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),n.event.onTouch(e,n.EVENT_START,function(e){o.enabled&&n.detection.startDetect(o,e)}),this},n.Instance.prototype={on:function i(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)this.element.addEventListener(r[n],t,!1);return this},off:function u(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)this.element.removeEventListener(r[n],t,!1);return this},trigger:function l(e,t){var r=n.DOCUMENT.createEvent("Event");r.initEvent(e,!0,!0),r.gesture=t;var o=this.element;return n.utils.hasParent(t.target,o)&&(o=t.target),o.dispatchEvent(r),this},enable:function c(e){return this.enabled=e,this}};var o=null,s=!1,a=!1;n.event={bindDom:function(e,t,r){for(var n=t.split(" "),o=0;o<n.length;o++)e.addEventListener(n[o],r,!1)},onTouch:function d(e,t,r){var i=this;this.bindDom(e,n.EVENT_TYPES[t],function u(l){var c=l.type.toLowerCase();if(!c.match(/mouse/)||!a){(c.match(/touch/)||c.match(/pointerdown/)||c.match(/mouse/)&&1===l.which)&&(s=!0),c.match(/touch|pointer/)&&(a=!0);var d=0;s&&(n.HAS_POINTEREVENTS&&t!=n.EVENT_END?d=n.PointerEvent.updatePointer(t,l):c.match(/touch/)?d=l.touches.length:a||(d=c.match(/up/)?0:1),d>0&&t==n.EVENT_END?t=n.EVENT_MOVE:d||(t=n.EVENT_END),d||null===o?o=l:l=o,r.call(n.detection,i.collectEventData(e,t,l)),n.HAS_POINTEREVENTS&&t==n.EVENT_END&&(d=n.PointerEvent.updatePointer(t,l))),d||(o=null,s=!1,a=!1,n.PointerEvent.reset())}})},determineEventTypes:function f(){var e;e=n.HAS_POINTEREVENTS?n.PointerEvent.getEvents():n.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],n.EVENT_TYPES[n.EVENT_START]=e[0],n.EVENT_TYPES[n.EVENT_MOVE]=e[1],n.EVENT_TYPES[n.EVENT_END]=e[2]},getTouchList:function h(e){return n.HAS_POINTEREVENTS?n.PointerEvent.getTouchList():e.touches?e.touches:[{identifier:1,pageX:e.pageX,pageY:e.pageY,target:e.target}]},collectEventData:function p(e,t,r){var o=this.getTouchList(r,t),s=n.POINTER_TOUCH;return(r.type.match(/mouse/)||n.PointerEvent.matchType(n.POINTER_MOUSE,r))&&(s=n.POINTER_MOUSE),{center:n.utils.getCenter(o),timeStamp:(new Date).getTime(),target:r.target,touches:o,eventType:t,pointerType:s,srcEvent:r,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return n.detection.stopDetect()}}}},n.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return Object.keys(e.pointers).sort().forEach(function(r){t.push(e.pointers[r])}),t},updatePointer:function(e,t){return e==n.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var r={};return r[n.POINTER_MOUSE]=t.pointerType==t.MSPOINTER_TYPE_MOUSE||t.pointerType==n.POINTER_MOUSE,r[n.POINTER_TOUCH]=t.pointerType==t.MSPOINTER_TYPE_TOUCH||t.pointerType==n.POINTER_TOUCH,r[n.POINTER_PEN]=t.pointerType==t.MSPOINTER_TYPE_PEN||t.pointerType==n.POINTER_PEN,r[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},n.utils={extend:function v(e,r,n){for(var o in r)e[o]!==t&&n||(e[o]=r[o]);return e},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function m(e){for(var t=[],r=[],n=0,o=e.length;o>n;n++)t.push(e[n].pageX),r.push(e[n].pageY);return{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,r)+Math.max.apply(Math,r))/2}},getVelocity:function g(e,t,r){return{x:Math.abs(t/e)||0,y:Math.abs(r/e)||0}},getAngle:function _(e,t){var r=t.pageY-e.pageY,n=t.pageX-e.pageX;return 180*Math.atan2(r,n)/Math.PI},getDirection:function y(e,t){var r=Math.abs(e.pageX-t.pageX),o=Math.abs(e.pageY-t.pageY);return r>=o?e.pageX-t.pageX>0?n.DIRECTION_LEFT:n.DIRECTION_RIGHT:e.pageY-t.pageY>0?n.DIRECTION_UP:n.DIRECTION_DOWN},getDistance:function E(e,t){var r=t.pageX-e.pageX,n=t.pageY-e.pageY;return Math.sqrt(r*r+n*n)},getScale:function b(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function T(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function C(e){return e==n.DIRECTION_UP||e==n.DIRECTION_DOWN},stopDefaultBrowserBehavior:function S(e,t){var r,n=["webkit","khtml","moz","ms","o",""];if(t&&e.style){for(var o=0;o<n.length;o++)for(var s in t)t.hasOwnProperty(s)&&(r=s,n[o]&&(r=n[o]+r.substring(0,1).toUpperCase()+r.substring(1)),e.style[r]=t[s]);"none"==t.userSelect&&(e.onselectstart=function(){return!1})}}},n.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function N(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:n.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function k(e){if(this.current&&!this.stopped){e=this.extendEventData(e);for(var t=this.current.inst.options,r=0,o=this.gestures.length;o>r;r++){var s=this.gestures[r];if(!this.stopped&&t[s.name]!==!1&&s.handler.call(s,e,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=e),e.eventType==n.EVENT_END&&!e.touches.length-1&&this.stopDetect(),e}},stopDetect:function w(){this.previous=n.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function P(e){var t=this.current.startEvent;if(t&&(e.touches.length!=t.touches.length||e.touches===t.touches)){t.touches=[];for(var r=0,o=e.touches.length;o>r;r++)t.touches.push(n.utils.extend({},e.touches[r]))}var s=e.timeStamp-t.timeStamp,a=e.center.pageX-t.center.pageX,i=e.center.pageY-t.center.pageY,u=n.utils.getVelocity(s,a,i);return n.utils.extend(e,{deltaTime:s,deltaX:a,deltaY:i,velocityX:u.x,velocityY:u.y,distance:n.utils.getDistance(t.center,e.center),angle:n.utils.getAngle(t.center,e.center),direction:n.utils.getDirection(t.center,e.center),scale:n.utils.getScale(t.touches,e.touches),rotation:n.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function A(e){var r=e.defaults||{};return r[e.name]===t&&(r[e.name]=!0),n.utils.extend(n.defaults,r,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},n.gestures=n.gestures||{},n.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function M(e,t){switch(e.eventType){case n.EVENT_START:clearTimeout(this.timer),n.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==n.detection.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case n.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case n.EVENT_END:clearTimeout(this.timer)}}},n.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function G(e,t){if(e.eventType==n.EVENT_END){var r=n.detection.previous,o=!1;if(e.deltaTime>t.options.tap_max_touchtime||e.distance>t.options.tap_max_distance)return;r&&"tap"==r.name&&e.timeStamp-r.lastEvent.timeStamp<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance&&(t.trigger("doubletap",e),o=!0),(!o||t.options.tap_always)&&(n.detection.current.name="tap",t.trigger(n.detection.current.name,e))}}},n.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function O(e,t){if(e.eventType==n.EVENT_END){if(t.options.swipe_max_touches>0&&e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},n.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function x(e,t){if(n.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),void(this.triggered=!1);if(!(t.options.drag_max_touches>0&&e.touches.length>t.options.drag_max_touches))switch(e.eventType){case n.EVENT_START:this.triggered=!1;break;case n.EVENT_MOVE:if(e.distance<t.options.drag_min_distance&&n.detection.current.name!=this.name)return;n.detection.current.name=this.name,(n.detection.current.lastEvent.drag_locked_to_axis||t.options.drag_lock_to_axis&&t.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var r=n.detection.current.lastEvent.direction;e.drag_locked_to_axis&&r!==e.direction&&(e.direction=n.utils.isVertical(r)?e.deltaY<0?n.DIRECTION_UP:n.DIRECTION_DOWN:e.deltaX<0?n.DIRECTION_LEFT:n.DIRECTION_RIGHT),this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),t.trigger(this.name+e.direction,e),(t.options.drag_block_vertical&&n.utils.isVertical(e.direction)||t.options.drag_block_horizontal&&!n.utils.isVertical(e.direction))&&e.preventDefault();break;case n.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},n.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function L(e,t){if(n.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),void(this.triggered=!1);if(!(e.touches.length<2))switch(t.options.transform_always_block&&e.preventDefault(),e.eventType){case n.EVENT_START:this.triggered=!1;break;case n.EVENT_MOVE:var r=Math.abs(1-e.scale),o=Math.abs(e.rotation);if(r<t.options.transform_min_scale&&o<t.options.transform_min_rotation)return;n.detection.current.name=this.name,this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),o>t.options.transform_min_rotation&&t.trigger("rotate",e),r>t.options.transform_min_scale&&(t.trigger("pinch",e),t.trigger("pinch"+(e.scale<1?"in":"out"),e));break;case n.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},n.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function I(e,t){return t.options.prevent_mouseevents&&e.pointerType==n.POINTER_MOUSE?void e.stopDetect():(t.options.prevent_default&&e.preventDefault(),void(e.eventType==n.EVENT_START&&t.trigger(this.name,e)))}},n.gestures.Release={name:"release",index:1/0,handler:function W(e,t){e.eventType==n.EVENT_END&&t.trigger(this.name,e)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=n:(e.Hammer=n,"function"==typeof e.define&&e.define.amd&&e.define("hammer",[],function(){return n}))}(this),function(){var e={},t=null,r=!0,n=!1;if("undefined"!=typeof AudioContext)t=new AudioContext;else if("undefined"!=typeof webkitAudioContext)t=new webkitAudioContext;else if("undefined"!=typeof Audio){r=!1;try{new Audio}catch(o){n=!0}}else r=!1,n=!0;if(r){var s="undefined"==typeof t.createGain?t.createGainNode():t.createGain();s.gain.value=1,s.connect(t.destination)}var a=function(){this._volume=1,this._muted=!1,this.usingWebAudio=r,this._howls=[]};a.prototype={volume:function(e){var t=this;if(e=parseFloat(e),e&&e>=0&&1>=e){t._volume=e,r&&(s.gain.value=e);for(var n in t._howls)if(t._howls.hasOwnProperty(n)&&t._howls[n]._webAudio===!1)for(var o=0;o<t._howls[n]._audioNode.length;o++)t._howls[n]._audioNode[o].volume=t._howls[n]._volume*t._volume;return t}return r?s.gain.value:t._volume},mute:function(){return this._setMuted(!0),this},unmute:function(){return this._setMuted(!1),this},_setMuted:function(e){var t=this;t._muted=e,r&&(s.gain.value=e?0:t._volume);for(var n in t._howls)if(t._howls.hasOwnProperty(n)&&t._howls[n]._webAudio===!1)for(var o=0;o<t._howls[n]._audioNode.length;o++)t._howls[n]._audioNode[o].muted=e}};var i=new a,u=null;if(!n){u=new Audio;var l={mp3:!!u.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!u.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!u.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!u.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),m4a:!!(u.canPlayType("audio/x-m4a;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!u.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")}}var c=function(e){var t=this;t._autoplay=e.autoplay||!1,t._buffer=e.buffer||!1,t._duration=e.duration||0,t._format=e.format||null,t._loop=e.loop||!1,t._loaded=!1,t._sprite=e.sprite||{},t._src=e.src||"",t._pos3d=e.pos3d||[0,0,-.5],t._volume=e.volume||1,t._urls=e.urls||[],t._rate=e.rate||1,t._onload=[e.onload||function(){}],t._onloaderror=[e.onloaderror||function(){}],t._onend=[e.onend||function(){}],t._onpause=[e.onpause||function(){}],t._onplay=[e.onplay||function(){}],t._onendTimer=[],t._webAudio=r&&!t._buffer,t._audioNode=[],t._webAudio&&t._setupAudioNode(),i._howls.push(t),t.load()};if(c.prototype={load:function(){var t=this,r=null;if(n)return void t.on("loaderror");for(var o=0;o<t._urls.length;o++){var s,a;if(t._format)s=t._format;else{if(a=t._urls[o].toLowerCase().split("?")[0],s=a.match(/.+\.([^?]+)(\?|$)/),s=s&&s.length>=2?s:a.match(/data\:audio\/([^?]+);/),!s)return void t.on("loaderror");s=s[1]}if(l[s]){r=t._urls[o];break}}if(!r)return void t.on("loaderror");if(t._src=r,t._webAudio)d(t,r);else{var u=new Audio;t._audioNode.push(u),u.src=r,u._pos=0,u.preload="auto",u.volume=i._muted?0:t._volume*i.volume(),e[r]=t;var c=function(){t._duration=u.duration,0===Object.getOwnPropertyNames(t._sprite).length&&(t._sprite={_default:[0,1e3*t._duration]}),t._loaded||(t._loaded=!0,t.on("load")),t._autoplay&&t.play(),u.removeEventListener("canplaythrough",c,!1)};u.addEventListener("canplaythrough",c,!1),u.load()}return t},urls:function(e){var t=this;return e?(t.stop(),t._urls="string"==typeof e?[e]:e,t._loaded=!1,t.load(),t):t._urls},play:function(e,r){var n=this;return"function"==typeof e&&(r=e),e&&"function"!=typeof e||(e="_default"),n._loaded?n._sprite[e]?(n._inactiveNode(function(o){o._sprite=e;var s=o._pos>0?o._pos:n._sprite[e][0]/1e3,a=n._sprite[e][1]/1e3-o._pos,u=!(!n._loop&&!n._sprite[e][2]),l="string"==typeof r?r:Math.round(Date.now()*Math.random())+"",c;if(function(){var t={id:l,sprite:e,loop:u};c=setTimeout(function(){!n._webAudio&&u&&n.stop(t.id,t.timer).play(e,t.id),n._webAudio&&!u&&(n._nodeById(t.id).paused=!0),n._webAudio||u||n.stop(t.id,t.timer),n.on("end",l)},1e3*a),n._onendTimer.push(c),t.timer=n._onendTimer[n._onendTimer.length-1]}(),n._webAudio){var d=n._sprite[e][0]/1e3,f=n._sprite[e][1]/1e3;o.id=l,o.paused=!1,h(n,[u,d,f],l),n._playStart=t.currentTime,o.gain.value=n._volume,"undefined"==typeof o.bufferSource.start?o.bufferSource.noteGrainOn(0,s,a):o.bufferSource.start(0,s,a)}else{if(4!==o.readyState)return n._clearEndTimer(c),function(){var t=n,s=e,a=r,i=o,u=function(){t.play(s,a),i.removeEventListener("canplaythrough",u,!1)};i.addEventListener("canplaythrough",u,!1)}(),n;o.id=l,o.currentTime=s,o.muted=i._muted,o.volume=n._volume*i.volume(),setTimeout(function(){o.play()},0)}return n.on("play"),"function"==typeof r&&r(l),n}),n):("function"==typeof r&&r(),n):(n.on("load",function(){n.play(e,r)}),n)},pause:function(e,t){var r=this;if(!r._loaded)return r.on("play",function(){r.pause(e)}),r;r._clearEndTimer(t||0);var n=e?r._nodeById(e):r._activeNode();if(n)if(n._pos=r.pos(null,e),r._webAudio){if(!n.bufferSource)return r;n.paused=!0,"undefined"==typeof n.bufferSource.stop?n.bufferSource.noteOff(0):n.bufferSource.stop(0)}else n.pause();return r.on("pause"),r},stop:function(e,t){var r=this;if(!r._loaded)return r.on("play",function(){r.stop(e)}),r;r._clearEndTimer(t||0);var n=e?r._nodeById(e):r._activeNode();if(n)if(n._pos=0,r._webAudio){if(!n.bufferSource)return r;n.paused=!0,"undefined"==typeof n.bufferSource.stop?n.bufferSource.noteOff(0):n.bufferSource.stop(0)}else n.pause(),n.currentTime=0;return r},mute:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.mute(e)}),t;var r=e?t._nodeById(e):t._activeNode();return r&&(t._webAudio?r.gain.value=0:r.volume=0),t},unmute:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.unmute(e)}),t;var r=e?t._nodeById(e):t._activeNode();return r&&(t._webAudio?r.gain.value=t._volume:r.volume=t._volume),t},volume:function(e,t){var r=this;if(e=parseFloat(e),e>=0&&1>=e){if(r._volume=e,!r._loaded)return r.on("play",function(){r.volume(e,t)}),r;var n=t?r._nodeById(t):r._activeNode();return n&&(r._webAudio?n.gain.value=e:n.volume=e*i.volume()),r}return r._volume},loop:function(e){var t=this;return"boolean"==typeof e?(t._loop=e,t):t._loop},sprite:function(e){var t=this;return"object"==typeof e?(t._sprite=e,t):t._sprite},pos:function(e,r){var n=this;if(!n._loaded)return n.on("load",function(){n.pos(e)}),"number"==typeof e?n:n._pos||0;e=parseFloat(e);var o=r?n._nodeById(r):n._activeNode();if(o)return n._webAudio?e>=0?(o._pos=e,n.pause(r).play(o._sprite,r),n):o._pos+(t.currentTime-n._playStart):e>=0?(o.currentTime=e,n):o.currentTime;if(e>=0)return n;for(var s=0;s<n._audioNode.length;s++)if(n._audioNode[s].paused&&4===n._audioNode[s].readyState)return n._webAudio?n._audioNode[s]._pos:n._audioNode[s].currentTime},pos3d:function(e,t,r,n){var o=this;if(t="undefined"!=typeof t&&t?t:0,r="undefined"!=typeof r&&r?r:-.5,!o._loaded)return o.on("play",function(){o.pos3d(e,t,r,n)}),o;if(!(e>=0||0>e))return o._pos3d;if(o._webAudio){var s=n?o._nodeById(n):o._activeNode();s&&(o._pos3d=[e,t,r],s.panner.setPosition(e,t,r))}return o},fade:function(e,t,r,n,o){var s=this,a=Math.abs(e-t),i=e>t?"down":"up",u=a/.01,l=r/u;if(!s._loaded)return s.on("load",function(){s.fade(e,t,r,n,o)}),s;s.volume(e,o);for(var c=1;u>=c;c++)!function(){var e=s._volume+("up"===i?.01:-.01)*c,r=Math.round(1e3*e)/1e3,a=t;setTimeout(function(){s.volume(r,o),r===a&&n&&n()},l*c)}()},fadeIn:function(e,t,r){return this.volume(0).play().fade(0,e,t,r)},fadeOut:function(e,t,r,n){var o=this;return o.fade(o._volume,e,t,function(){r&&r(),o.pause(n),o.on("end")},n)},_nodeById:function(e){for(var t=this,r=t._audioNode[0],n=0;n<t._audioNode.length;n++)if(t._audioNode[n].id===e){r=t._audioNode[n];break}return r},_activeNode:function(){for(var e=this,t=null,r=0;r<e._audioNode.length;r++)if(!e._audioNode[r].paused){t=e._audioNode[r];break}return e._drainPool(),t},_inactiveNode:function(e){for(var t=this,r=null,n=0;n<t._audioNode.length;n++)if(t._audioNode[n].paused&&4===t._audioNode[n].readyState){e(t._audioNode[n]),r=!0;break}if(t._drainPool(),!r){var o;t._webAudio?(o=t._setupAudioNode(),e(o)):(t.load(),o=t._audioNode[t._audioNode.length-1],o.addEventListener("loadedmetadata",function(){e(o)}))}},_drainPool:function(){var e=this,t=0,r;for(r=0;r<e._audioNode.length;r++)e._audioNode[r].paused&&t++;for(r=e._audioNode.length-1;r>=0&&!(5>=t);r--)e._audioNode[r].paused&&(e._webAudio&&e._audioNode[r].disconnect(0),t--,e._audioNode.splice(r,1))},_clearEndTimer:function(e){var t=this,r=t._onendTimer.indexOf(e);r=r>=0?r:0,t._onendTimer[r]&&(clearTimeout(t._onendTimer[r]),t._onendTimer.splice(r,1))},_setupAudioNode:function(){var e=this,r=e._audioNode,n=e._audioNode.length;return r[n]="undefined"==typeof t.createGain?t.createGainNode():t.createGain(),r[n].gain.value=e._volume,r[n].paused=!0,r[n]._pos=0,r[n].readyState=4,r[n].connect(s),r[n].panner=t.createPanner(),r[n].panner.setPosition(e._pos3d[0],e._pos3d[1],e._pos3d[2]),r[n].panner.connect(r[n]),r[n]},on:function(e,t){var r=this,n=r["_on"+e];if("function"==typeof t)n.push(t);else for(var o=0;o<n.length;o++)t?n[o].call(r,t):n[o].call(r);return r},off:function(e,t){for(var r=this,n=r["_on"+e],o=t.toString(),s=0;s<n.length;s++)if(o===n[s].toString()){n.splice(s,1);break}return r},unload:function(){for(var t=this,r=t._audioNode,n=0;n<t._audioNode.length;n++)t.stop(r[n].id),t._webAudio?r[n].disconnect(0):r[n].src="";var o=i._howls.indexOf(t);o&&i._howls.splice(o,1),delete e[t._src],t=null}},r)var d=function(r,n){if(n in e)r._duration=e[n].duration,f(r);else{var o=new XMLHttpRequest;o.open("GET",n,!0),o.responseType="arraybuffer",o.onload=function(){t.decodeAudioData(o.response,function(t){t&&(e[n]=t,f(r,t))})},o.onerror=function(){r._webAudio&&(r._buffer=!0,r._webAudio=!1,r._audioNode=[],delete r._gainNode,r.load())};try{o.send()}catch(s){o.onerror()}}},f=function(e,t){e._duration=t?t.duration:e._duration,0===Object.getOwnPropertyNames(e._sprite).length&&(e._sprite={_default:[0,1e3*e._duration]}),e._loaded||(e._loaded=!0,e.on("load")),e._autoplay&&e.play()},h=function(r,n,o){var s=r._nodeById(o);s.bufferSource=t.createBufferSource(),s.bufferSource.buffer=e[r._src],s.bufferSource.connect(s.panner),s.bufferSource.loop=n[0],n[0]&&(s.bufferSource.loopStart=n[1],s.bufferSource.loopEnd=n[1]+n[2]),s.bufferSource.playbackRate.value=r._rate};"function"==typeof define&&define.amd&&define(function(){return{Howler:i,Howl:c}}),window.Howler=i,window.Howl=c}();var $=function(e,t){"use strict";function r(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)}function n(e,t,r,n){e.addEventListener(t,r,!!n)}function o(e,t,r,n){e.removeEventListener(t,r,!!n)}function s(e){return e=e.charAt(0).toUpperCase()+e.substr(1),""===$.vendor?e.toLowerCase():$.vendor+e}function a(e,t,r){var a=[],i=function(){this==e&&(o(e,$.eventTransitionEnd,i),r.call(e))};t=t||{},t.duration=t.duration||0,t.property&&(e.style[s("transitionProperty")]=t.property),void 0!==t.duration&&(e.style[s("transitionDuration")]=t.duration+"ms"),t.easing&&(e.style[s("transitionTimingFunction")]="cubic-bezier("+t.easing+")"),void 0!==t.delay&&(e.style[s("transitionDelay")]=t.delay+"ms"),void 0!==t.opacity&&(e.style.opacity=t.opacity),void 0!==t.scale&&a.push("scale("+t.scale+")"),void 0!==t.rotate&&a.push("rotate("+t.rotate+"deg)"),(void 0!==t.x||void 0!==t.y)&&(t.x=t.x||0,t.y=t.y||0,a.push("translate("+t.x+"px,"+t.y+"px)"+($.has3d?" translateZ(0)":""))),a.length&&(e.style[$.transform]=a.join(" ")),r&&(t.duration?n(e,$.eventTransitionEnd,i):r.call(e))}function i(r,n){return r=r||t,r instanceof u?r:(n instanceof u&&(n=n[0]),"object"!=typeof r||!r.nodeType&&r!==e?(n||t).querySelectorAll(r):[r])}function $(e,t){return new u(i(e,t))}function u(e){for(var t=0,r=e.length;r>t;t++)this[t]=e[t];return this}u.prototype={length:function(){var e=0,t;for(t in this)this.hasOwnProperty(t)&&e++;return e},get:function(e){return $(this[e])},each:function(e){for(var t=0,r=this.length();r>t;t++)e.call(this[t]);return this},className:function(e){return void 0===e?this[0].className:this.each(function(){this.className=e})},hasClass:function(e){return r(this[0],e)},addClass:function(e){var t,n;return e=e.split(" "),n=e.length,this.each(function(){for(t=0;n>t;t++)r(this,e[t])||(this.className=""!==this.className?this.className+" "+e[t]:e[t])})},removeClass:function(e){return this.each(function(){for(var t=this.className.split(" "),r=[],n=0,o=t.length;o>n;n++)t[n]!=e&&r.push(t[n]);this.className=r.length?r.join(" "):null})},style:function(t){return"string"==typeof t?e.getComputedStyle(this[0],null)[t]:(this.each(function(){for(var e in t)this.style[e]=t[e]}),this)},width:function(e){return void 0===e?this[0].offsetWidth:this.each(function(){this.style.width=e+"px"})},height:function(e){return void 0===e?this[0].offsetHeight:this.each(function(){this.style.height=e+"px"})},left:function(){return this[0].offsetLeft},top:function(){return this[0].offsetTop},offset:function(){for(var e=this[0],t=e.offsetLeft,r=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,r+=e.offsetTop;return{x:t,y:r}},repaint:function(){return this.each(function(){this.offsetHeight})},bind:function(e,t,r){return this.each(function(){n(this,e,t,r)})},unbind:function(e,t,r){return this.each(function(){o(this,e,t,r)})},append:function(e){return e=e instanceof u?e[0]:e,this[0].appendChild(e),this},remove:function(){this.each(function(){this.parentNode.removeChild(this)})},html:function(e){return void 0===e?this[0].innerHTML:this.each(function(){this.innerHTML=e})},text:function(e){return void 0===e?this[0].innerText:this.each(function(){this.innerText=e})},hide:function(){return this[0].style.display="none"},show:function(){return this[0].style.display=""},data:function(e,t){return void 0===t?this[0].dataset?this[0].dataset[e]:this[0].getAttribute("data-"+e):this.each(function(){this.dataset?this.dataset[e]=t:this.setAttribute("data-"+e,t)})},find:function(e){return $(e,this[0])},translate:function(t,r){if(void 0===t){if(!$.transform)return{x:this.style("left"),y:this.style("top")};var n=e.getComputedStyle(this[0],null)[$.transform];return e.WebKitCSSMatrix?(n=new e.WebKitCSSMatrix(n),{x:n.e,y:n.f}):(n=n.split("(")[1].replace(/[^\d\-.,]/g,"").split(","),{x:+n[4],y:+n[5]})}return this.each(function(){$.transform?this.style[$.transform]="translate3d("+t+"px,"+r+"px,0)":(this.style.top=r+"px",this.style.left=t+"px")})},transition:function(e,t){return this.each(function(){a(this,e,t)})},refresh:function(){return this.each(function(){this.offsetHeight})}},$.iphoneDetect=function(e){var t=/iPhone/i.test(e);return t},$.create=function(e,r){"object"==typeof e&&(r=e,e=r.tag,delete r.tag);var n=t.createElement(e),o;r=r||{};for(o in r)n[o]=r[o];return n},$.escape=function(e){return encodeURIComponent(e)},$.ajax=function(t,r){r=r||{};var n=new XMLHttpRequest,o=r.post||null,s=r.callback||null,a=r.timeout||null;n.onreadystatechange=function(){if(4==n.readyState){if(200!=n.status&&304!=n.status)return void(s&&s(!1));var t="application/json"==n.getResponseHeader("Content-Type")?e.JSON.parse(n.responseText):n.responseText;s&&s(t)}},o?(n.open("POST",t,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded")):n.open("GET",t,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(o),a&&setTimeout(function(){n.onreadystatechange=function(){},n.abort(),s&&s(!1)},a)};var l=Alea();return $.seedRandom=function(e){l=Alea()},$.random=function(e,t,r){if(void 0!==r){for(var n=[],o;n.length<r;)o=(l()*(t-e+1)>>>0)+e,-1===n.indexOf(o)&&n.push(o);return n}return e instanceof Array?(t=e.length,e=0):void 0===t&&(t=e,e=0),(l()*(t-e+1)>>>0)+e},$.vendor=function(){for(var e="t,webkitT,MozT,msT,OT".split(","),t,r=0,n=e.length,o=$.create("div");n>r;r++)if(t=e[r]+"ransform",t in o.style)return e[r].substr(0,e[r].length-1);return!1}(),$.hasTouch="ontouchstart"in e,$.eventStart=$.hasTouch?"touchstart":"mousedown",$.eventMove=$.hasTouch?"touchmove":"mousemove",$.eventEnd=$.hasTouch?"touchend":"mouseup",$.eventCancel=$.hasTouch?"touchcancel":"mousecancel",$.eventTransitionEnd=function(){if($.vendor===!1)return!1;var e={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"oTransitionEnd",ms:"MSTransitionEnd"};return e[$.vendor]}(),$.transform=s("transform"),$.has3d=s("perspective")in $.create("div").style,$.hasTransition=s("transition")in $.create("div").style,$.EASE={LINEAR:"0.250, 0.250, 0.750, 0.750",IN:"0.420, 0.000, 1.000, 1.000",OUT:"0.000, 0.000, 0.580, 1.000",INOUT:"0.420, 0.000, 0.580, 1.000",CUBIC:{IN:"0.550, 0.055, 0.675, 0.190",OUT:"0.215, 0.610, 0.355, 1.000",INOUT:"0.645, 0.045, 0.355, 1.000"},SINE:{IN:"0.470, 0.000, 0.745, 0.715",OUT:"0.390, 0.575, 0.565, 1.000",INOUT:"0.445, 0.050, 0.550, 0.950"}},$}(this,document);!function(){function e(e){alert(t(out))}function t(e){var t="";for(var r in e)t+=r+": "+e[r]+"\n";return t}function r(e){for(;e.hasChildNodes();)e.removeChild(e.lastChild)}function n(e,t,r){if(!t.hasOwnProperty(e))return!0;if(Array.isArray(t[e]))return!1;var o=!0;r.hasOwnProperty(e)||(r[e]={},o=!1);var s=!1;for(var a in t[e])s=n(a,t[e],r[e]);s||o||(r[e]=t[e])}function o(e){return null===e||void 0===e||0===Object.keys(e).length}function s(e){return null===e||void 0===e||isNaN(parseFloat(e))?0:parseInt(e,10)}function a(e){return JSON.parse(JSON.stringify(e))}window.printObject=e,window.objectToString=t,window.removeAllChildren=r,window.copyProperty=n,window.isEmptyObj=o,window.intOrZero=s,window.cloneStructure=a}();var GAME={};GAME.game=function(e){function t(){$(e).unbind("load",t),s(),a(),ft(r)}function r(){K(),i(),S(),b(),Hammer(document.body).on("tap",function(e){n(e)})}function n(e){pn||o(e)}function o(e){var t,r=bt(e.target);switch(r){case"infoButton":GAME.sound.play("click"),nn=!0,Zt.addClass("show"),qr.addClass("show dim");break;case"infoPopup":GAME.sound.play("lowClick"),E();break;case"rateApp":GAME.sound.play("lowClick"),GAME.bridge.request("link.store"),E();break;case"feedback":GAME.sound.play("lowClick"),GAME.bridge.request("link.email"),E();break;case"kgTwitter":GAME.sound.play("lowClick"),GAME.bridge.request("link.twitter"),E();break;case"kgFacebook":GAME.sound.play("lowClick"),GAME.bridge.request("link.facebook"),E();break;case"facebook":GAME.sound.play("click"),t={message:"I just scored "+Jr.current.score+" playing Word Clues, a fun, new word game from @KindredGames! You can play too: "+this.messages.linkStore+" #wordclues"},GAME.bridge.request("post.facebook",t,function(e,t){(null!==e||t&&!t.ok)&&alert("You are not currently signed in to Facebook.  To do so, go to "+this.messages.settingsFacebook)});break;case"twitter":GAME.sound.play("click"),t={message:"I just scored "+Jr.current.score+" playing Word Clues, a fun, new word game from @KindredGames! You can play too: "+this.messages.linkStore+" #wordclues"},GAME.bridge.request("post.twitter",t,function(e,t){(null!==e||t&&!t.ok)&&alert("You are not currently signed in to Twitter.  To do so, go to "+this.messages.settingsTwitter)});break;case"leaderboardButton":GAME.sound.play("click"),GAME.bridge.request("display.gamecenter");break;case"buy":GAME.sound.play("click"),GAME.bridge.request("store.buy",{productId:"WordCluesUnlimitedGames"}),m();break;case"restoreLink":GAME.sound.play("click"),m(),g();break;case"restoreButton":GAME.sound.play("click"),GAME.bridge.request("store.restore",{productId:"WordCluesUnlimitedGames"}),_();break;case"tripleWordBuyButton":GAME.sound.play("click"),GAME.bridge.request("store.buy",{productId:"WordCluesTripleWordScore"}),m();
break;case"lifeSaverBuyButton":GAME.sound.play("click"),GAME.bridge.request("store.buy",{productId:"WordCluesLifeSaver"}),m();break;case"iapPopup":case"iapTripleWordScorePopup":case"iapLifeSaverPopup":GAME.sound.play("lowClick"),m();break;case"restorePopup":GAME.sound.play("lowClick"),_();break;case"playButton":GAME.sound.play("click"),En=0,dn||yn>0?J():v(Xt);break;case"okButton":GAME.sound.play("click"),cr.removeClass("show"),hn?L():x();break;case"clearPass":GAME.sound.play("click"),fn?hn?L():x():l();break;case"guessButtonHigh":GAME.sound.play("click"),F(Nt.HIGH,kt.HIGH);break;case"guessButtonMedium":GAME.sound.play("click"),F(Nt.MEDIUM,kt.MEDIUM);break;case"guessButtonLow":GAME.sound.play("click"),F(Nt.LOW,kt.LOW);break;case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"h":case"i":case"j":case"k":case"l":case"m":case"n":case"o":case"p":case"q":case"r":case"s":case"t":case"u":case"v":case"w":case"x":case"y":case"z":h(r),vn=!0;break;case"del":(!Jr.current.lifeSaverPlayed||Jr.current.lifeSaverPlayed&&vn)&&(p(),vn=!1);break;case"powerButton":if(un)return;GAME.sound.play("click"),ot();break;case"powerOptions":st();break;case"revealVowel":if(GAME.sound.play("click"),Jr.current.vowelRevealed.length>0||Jr.current.lifeSaverPlayed)return;st(at);break;case"revealLetter":if(Jr.current.firstLettersRevealed>0||Jr.current.lifeSaverPlayed)return void GAME.sound.play("click");GAME.sound.play("power"),ut(-Gt),Jr.current.firstLettersRevealed++,_t(),st(l);break;case"revealAllClues":if(0===Jr.current.revealAllLeft||Jr.current.allCluesRevealed||Jr.current.lifeSaverPlayed)return void GAME.sound.play("click");GAME.sound.play("power"),Jr.current.revealAllLeft--,Mr.text(Jr.current.revealAllLeft),st(lt);break;case"tripleScore":if(0===Jr.tripleScoresBanked||0===Jr.current.tripleScoresLeft||1!==Jr.current.multiplier)return GAME.sound.play("click"),void st(v,Kt);GAME.sound.play("power"),Jr.current.tripleScoresLeft--,Jr.tripleScoresBanked--,Jr.current.multiplier=3,wr.text(Jr.current.tripleScoresLeft),Pr.text(Jr.tripleScoresBanked),Gr.text(Jr.current.multiplier),Gr.removeClass("hide").addClass("triple"),_t(),st();break;case"doubleScore":if(0===Jr.current.doubleScoresLeft||1!==Jr.current.multiplier)return void GAME.sound.play("click");GAME.sound.play("power"),Jr.current.doubleScoresLeft--,Jr.current.multiplier=2,kr.text(Jr.current.doubleScoresLeft),Gr.text(Jr.current.multiplier),Gr.removeClass("hide"),_t(),st();break;case"lifeSaver":if(0===Jr.lifeSaversBanked)return GAME.sound.play("click"),void st(v,zt);if(Jr.current.lifeSaverPlayed||Jr.current.clueNo+1<Ct)return void GAME.sound.play("click");GAME.sound.play("power"),st(ct);break;case"buyTripleScores":GAME.sound.play("click"),st(v,Kt);break;case"buyLifeSavers":GAME.sound.play("click"),st(v,zt);break;case"vowelSelect":it();break;case"vowel_a":case"vowel_e":case"vowel_i":case"vowel_o":case"vowel_u":GAME.sound.play("power"),ut(-Gt);var n=r.split("_")[1];Jr.current.vowelRevealed=n,l(),Er.removeClass("show"),qr.removeClass("show").removeClass("dim"),$("#"+Jr.current.vowelRevealed).addClass("disable"),rn=!1,_t();break;case"settingsButton":GAME.sound.play("clickSwoosh"),X();break;case"set_bg":case"set_dark":case"set_font":case"set_sound":case"set_help":case"darkButton":GAME.sound.play("click"),z(r);break;case"help":case"helpScreen1":case"helpScreen2":case"helpScreen3":GAME.sound.play("keyBack"),rt();break;case"backButton":GAME.sound.play("click"),Z();break;case"popup":GAME.sound.play("click"),rn&&et();break;case"popupCover":sn&&st(),an&&it(),nn&&E(),on&&m();break;case"gameTitle":En++,10===En&&(Jr.tripleScoresBanked+=5,Jr.lifeSaversBanked+=5,Q('<h1>Tsk-Tsk!</h1>David, do you really need this?  You have been given 5 Life Savers and 5 Triple Word Scores... use them wisely Buddy!<div class="popupButton">OK</div>'))}}function s(){window.onerror=function(e,t,r){"use strict";var n="Exception ["+e+"] at "+t+" on line "+r;try{return void GAME.bridge.logError(n)}catch(o){}console.log(n)}}function a(){Ut=$("#home"),Vt=$("#stats_gp"),Ht=$("#stats_tp"),qt=$("#stats_ap"),Yt=$("#stats_hs"),jt=$("#stats_ls"),Ft=$("#stats_cs"),Zt=$("#infoPopup"),Xt=$("#iapPopup"),Kt=$("#iapTripleWordScorePopup"),zt=$("#iapLifeSaverPopup"),Jt=$("#restorePopup"),Qt=$("#game"),er=$("#clueBoard"),Or=$("#clueCover"),xr=$("#cluesLeft"),tr=$("#guessButtons"),rr=$("#guessButtonHigh"),nr=$("#guessButtonMedium"),or=$("#guessButtonLow"),sr=$("#buttonDescriptionHigh"),ar=$("#buttonDescriptionMedium"),ir=$("#buttonDescriptionLow"),ur=$("#letters"),lr=$("#powerButton"),cr=$("#okButton"),dr=$("#clearPass"),fr=$("#del"),hr=$("#powerOptions"),pr=$("#doubleScore"),vr=$("#tripleScore"),mr=$("#lifeSaver"),gr=$("#revealLetter"),_r=$("#revealVowel"),yr=$("#revealAllClues"),Er=$("#vowelSelect"),br=$("#question"),Tr=$("#worth"),Cr=$("#answerLength"),Sr=$("#score"),Nr=$("#guess"),kr=$("#dsLeft"),wr=$("#tsLeft"),Pr=$("#tsBanked"),Ar=$("#lsBanked"),Mr=$("#raLeft"),Gr=$("#multiplier"),Wr=$("#set_sound"),Rr=$("#help"),Dr=$("#settings"),$r=$("#settingsButton"),Ur=$("#message"),Vr=$("#message2"),Hr=$("#popup"),qr=$("#popupCover"),Yr=$("#price"),jr=$("#tripleWordPrice"),Fr=$("#lifeSaverPrice"),Xr=Xt,rn=!1,sn=!1,an=!1,un=!1,ln=!1,cn=0,dn=!1,fn=!0,hn=!1,pn=!1,vn=!0,mn=!1;var e;for(e=0;Tt>e;e++)Br[e]=$("#helpScreen"+(e+1));for(e=0;Ct>e;e++){var t=e+1;Lr[e]=$("#clue"+t),Ir[e]=$("#bonus"+t)}}function i(){GAME.bridge.init(y)}function u(){Jr.current.score=0,Jr.current.questionNo=0,Jr.current.clueNo=0,Jr.current.doubleScoresLeft=Pt,Jr.current.tripleScoresLeft=At,Jr.current.revealAllLeft=Ot,Jr.current.multiplier=1,Jr.current.firstLettersRevealed=0,Jr.current.vowelRevealed="",Jr.current.guessWorth=St,Jr.current.pendingBonus=[],Jr.current.bonusLettersSelected=0,kr.text(Jr.current.doubleScoresLeft),wr.text(Jr.current.tripleScoresLeft),Pr.text(Jr.tripleScoresBanked),Ar.text(Jr.lifeSaversBanked),Mr.text(Jr.current.revealAllLeft),_t(),en=null,Et()}function l(){var e="";e=hn?tn.clues[Jr.current.clueNo].replace("%",""):tn.answer,Nr.html(f(e)),c(),d()}function c(){cr.removeClass("show"),ur.removeClass("dim"),dr.addClass("off"),dr.text("PASS"),fn=!0,fr.addClass("off")}function d(){if(hn)q(Jr.current.clueNo,!0);else for(var e=0;e<Lr.length;e++)q(e,!1)}function f(e,t){var r="";Kr="";for(var n=0;n<e.length;n++)!hn&&(n<Jr.current.firstLettersRevealed||tn.answer[n]===Jr.current.vowelRevealed)?(r+='<div class="space revealed">'+e[n]+"</div>",Kr+=e[n]):hn&&void 0===t&&-1!==Jr.current.bonusLettersRevealed.indexOf(n)?(r+='<div class="space revealed">'+e[n]+"</div>",Kr+=e[n]):(r+='<div class="space">&nbsp;</div>',Kr+=" ");return r}function h(e){var t,r,n,o=Kr.indexOf(" ");if(-1!==o&&e!==Jr.current.vowelRevealed){if(GAME.sound.play("keyClick"),dr.removeClass("off"),dr.text("clear"),fn=!1,fr.removeClass("off"),Nr[0].children[o].innerText=e,hn){for(r=0;r<Lr[Jr.current.clueNo][0].children.length;r++)if("beginSpace"===Lr[Jr.current.clueNo][0].children[r].className||"endSpace"===Lr[Jr.current.clueNo][0].children[r].className)for(n=0;n<Lr[Jr.current.clueNo][0].children[r].children.length;n++)if(-1===Lr[Jr.current.clueNo][0].children[r].children[n].className.indexOf("revealed")&&"&nbsp;"===Lr[Jr.current.clueNo][0].children[r].children[n].innerHTML){Lr[Jr.current.clueNo][0].children[r].children[n].innerText=e;break}}else for(t=0;t<Lr.length;t++)for(r=0;r<Lr[t][0].children.length;r++)if("beginSpace"===Lr[t][0].children[r].className||"endSpace"===Lr[t][0].children[r].className)for(n=0;n<Lr[t][0].children[r].children.length;n++)if(-1===Lr[t][0].children[r].children[n].className.indexOf("revealed")&&"&nbsp;"===Lr[t][0].children[r].children[n].innerHTML){Lr[t][0].children[r].children[n].innerText=e;break}Kr=Kr.substr(0,o)+e+Kr.substr(o+1),-1===Kr.indexOf(" ")&&(cr.addClass("show"),ur.removeClass("show").addClass("dim"))}}function p(){var e,t,r=!1,n=!1;for(cr.removeClass("show"),ur.removeClass("dim"),e=Kr.length;e--;)if(" "!==Kr[e]&&(!hn&&Kr[e]!==Jr.current.vowelRevealed&&e!==Jr.current.firstLettersRevealed-1||hn&&-1===Jr.current.bonusLettersRevealed.indexOf(e))){if(r){n=!0;break}if(GAME.sound.play("keyBack"),Kr=Kr.substr(0,e)+" "+Kr.substr(e+1),Nr[0].children[e].innerHTML="&nbsp;",hn)for(t=0;t<Lr[Jr.current.clueNo][0].children.length;t++)-1===Lr[Jr.current.clueNo][0].children[t].className.indexOf("shownWord")&&(Lr[Jr.current.clueNo][0].children[t].children[e].innerHTML="&nbsp;");else for(var o=0;o<Lr.length;o++)for(t=0;t<Lr[o][0].children.length;t++)-1===Lr[o][0].children[t].className.indexOf("shownWord")&&(Lr[o][0].children[t].children[e].innerHTML="&nbsp;");r=!0}n||(dr.addClass("off"),dr.text("PASS"),fn=!0,fr.addClass("off"))}function v(e){on=!0,Xr=e,e.addClass("show"),qr.addClass("show dim")}function m(){on=!1,Xr.removeClass("show"),qr.removeClass("show").removeClass("dim")}function g(){on=!0,Jt.addClass("show"),qr.addClass("show dim")}function _(){on=!1,Jt.removeClass("show"),qr.removeClass("show").removeClass("dim")}function y(e){if("store.paid"===e.topic)switch(mn=!0,e.productId){case"WordCluesUnlimitedGames":dn=!0,Q('<h1>Thank you!</h1>You have unlocked Unlimited Games. Thank you for your support!<div class="popupButton">OK</div>',function(){mn=!1});break;case"WordCluesTripleWordScore":Jr.tripleScoresBanked+=10,Pr.text(Jr.tripleScoresBanked),_t(),Q('<h1>Thank you!</h1>You have banked 10 additional Triple Word Scores. Thank you for your support!<div class="popupButton">OK</div>');break;case"WordCluesLifeSaver":Jr.lifeSaversBanked+=10,Ar.text(Jr.lifeSaversBanked),_t(),Q('<h1>Thank you!</h1>You have banked 10 additional Life Savers. Thank you for your support!<div class="popupButton">OK</div>')}else if("store.priced"===e.topic)switch(e.productId){case"WordCluesUnlimitedGames":Yr.text(e.price);break;case"WordCluesTripleWordScore":jr.text(e.price);break;case"WordCluesLifeSaver":Fr.text(e.price)}else"network"===e.topic?"inet"===e.type&&e.on:"leaderboards"===e.topic?isEmptyObj(e.scores)||pt(e.scores):"achievements"===e.topic&&(isEmptyObj(e.achievements)||vt(e.achievements))}function E(){Zt.removeClass("show"),qr.removeClass("show").removeClass("dim"),nn=!1}function b(){GAME.bridge.request("store.owns",{productId:"WordCluesUnlimitedGames"},function(e,t){if(e)console.log(e);else{var r=["WordCluesTripleWordScore","WordCluesLifeSaver"];T(t)?dn=!0:(dn=!1,r.push("WordCluesUnlimitedGames")),GAME.bridge.request("store.price",{productIds:r})}C()})}function T(e){return"object"==typeof e&&!isEmptyObj(e)&&"WordCluesUnlimitedGames"===e.productId&&e.quantity>0&&e.transactionId}function C(){dn||(yn=xt-intOrZero(Zr.gamesPlayed),0>yn&&(yn=0))}function S(){GAME.bridge.request("check.gamecenter","",function(e){return e?void console.log(e):(k(),void N())})}function N(){GAME.bridge.request("achievements.get","",function(e,t){return e?void console.log(e):void ht(t)})}function k(){GAME.bridge.request("leaderboards.get",["gamesPlayed","totalPoints","avgPoints","highScore","longestStreak","currentStreak"],function(e,t){return e?void console.log(e):void pt(t)})}function w(){Vt.text(P(Zr.gamesPlayed)),Ht.text(P(Zr.totalPoints)),qt.text(P(Zr.avgPoints)),Yt.text(P(Zr.highScore)),jt.text(P(Zr.longestStreak)),Ft.text(P(Zr.currentStreak)),Jr.firstTimeVersion21&&nt()}function P(e){return null===e||void 0===e||isNaN(e)?0:e}function A(){var e=Zr.gamesPlayed>0?Math.round(Zr.totalPoints/Zr.gamesPlayed):0;GAME.bridge.request("set.stats",{gamesPlayed:Zr.gamesPlayed,totalPoints:Zr.totalPoints,avgPoints:e,highScore:Zr.highScore,longestStreak:Zr.longestStreak,currentStreak:Zr.currentStreak}),GAME.bridge.request("leaderboards.set",{gamesPlayed:Zr.gamesPlayed,totalPoints:Zr.totalPoints,avgPoints:e,highScore:Zr.highScore,longestStreak:Zr.longestStreak,currentStreak:Zr.currentStreak})}function M(){_n.length=0,G(Qr.WordClues500PointGame)&&Zr.highScore>=500&&(Qr.WordClues500PointGame=O(),Jr.lifeSaversBanked++,_n.push("500 Point Game")),G(Qr.WordClues1000PointGame)&&Zr.highScore>=1e3&&(Qr.WordClues1000PointGame=O(),Jr.lifeSaversBanked++,_n.push("1,000 Point Game")),G(Qr.WordClues1500PointGame)&&Zr.highScore>=1500&&(Qr.WordClues1500PointGame=O(),Jr.lifeSaversBanked++,_n.push("1,500 Point Game")),G(Qr.WordClues2000PointGame)&&Zr.highScore>=2e3&&(Qr.WordClues2000PointGame=O(),Jr.lifeSaversBanked++,_n.push("2,000 Point Game")),G(Qr.WordCluesPerfectGame)&&Zr.highScore>=It&&(Qr.WordCluesPerfectGame=O(),Jr.lifeSaversBanked++,Jr.tripleScoresBanked++,_n.push("Perfect Game")),G(Qr.WordClues10GamesPlayed)&&Zr.gamesPlayed>=10&&(Qr.WordClues10GamesPlayed=O(),Jr.tripleScoresBanked++,_n.push("10 Games Played")),G(Qr.WordClues50GamesPlayed)&&Zr.gamesPlayed>=50&&(Qr.WordClues50GamesPlayed=O(),Jr.tripleScoresBanked++,_n.push("50 Games Played")),G(Qr.WordClues100GamesPlayed)&&Zr.gamesPlayed>=100&&(Qr.WordClues100GamesPlayed=O(),Jr.tripleScoresBanked++,_n.push("100 Games Played")),G(Qr.WordClues150GamesPlayed)&&Zr.gamesPlayed>=150&&(Qr.WordClues150GamesPlayed=O(),Jr.tripleScoresBanked++,_n.push("150 Games Played")),G(Qr.WordClues200GamesPlayed)&&Zr.gamesPlayed>=200&&(Qr.WordClues200GamesPlayed=O(),Jr.tripleScoresBanked++,_n.push("200 Games Played")),G(Qr.WordClues10000TotalPoints)&&Zr.totalPoints>=1e4&&(Qr.WordClues10000TotalPoints=O(),Jr.lifeSaversBanked++,_n.push("10,000 Total Points")),G(Qr.WordClues25000TotalPoints)&&Zr.totalPoints>=25e3&&(Qr.WordClues25000TotalPoints=O(),Jr.lifeSaversBanked++,_n.push("25,000 Total Points")),G(Qr.WordClues50000TotalPoints)&&Zr.totalPoints>=5e4&&(Qr.WordClues50000TotalPoints=O(),Jr.lifeSaversBanked++,_n.push("50,000 Total Points")),G(Qr.WordClues75000TotalPoints)&&Zr.totalPoints>=75e3&&(Qr.WordClues75000TotalPoints=O(),Jr.lifeSaversBanked++,_n.push("75,000 Total Points")),G(Qr.WordClues100000TotalPoints)&&Zr.totalPoints>=1e5&&(Qr.WordClues100000TotalPoints=O(),Jr.lifeSaversBanked++,_n.push("100,000 Total Points")),G(Qr.WordClues250000TotalPoints)&&Zr.totalPoints>=25e4&&(Qr.WordClues250000TotalPoints=O(),Jr.lifeSaversBanked++,Jr.tripleScoresBanked++,_n.push("250,000 Total Points")),G(Qr.WordCluesStreak10)&&Zr.longestStreak>=10&&(Qr.WordCluesStreak10=O(),_n.push("10 in a Row")),G(Qr.WordCluesStreak25)&&Zr.longestStreak>=25&&(Qr.WordCluesStreak25=O(),_n.push("25 in a Row")),G(Qr.WordCluesStreak50)&&Zr.longestStreak>=50&&(Qr.WordCluesStreak50=O(),Jr.tripleScoresBanked++,_n.push("50 in a Row")),G(Qr.WordCluesStreak100)&&Zr.longestStreak>=100&&(Qr.WordCluesStreak100=O(),Jr.tripleScoresBanked++,_n.push("100 in a Row")),G(Qr.WordCluesStreak200)&&Zr.longestStreak>=200&&(Qr.WordCluesStreak200=O(),Jr.lifeSaversBanked++,Jr.tripleScoresBanked++,_n.push("200 in a Row")),0!==_n.length&&(_t(),yt(),GAME.bridge.request("achievements.set",Qr))}function G(e){return null===e||void 0===e||e.value<100}function O(){return{value:100}}function x(){Kr===tn.answer?(GAME.sound.play("correct"),Zr.currentStreak++,Zr.longestStreak=Zr.currentStreak>Zr.longestStreak?Zr.currentStreak:Zr.longestStreak,A(),M(),Q("<h1>Terrific!</h1>You correctly guessed <u>"+Kr+"</u> and scored "+Jr.current.guessWorth*Jr.current.multiplier+' pts<div class="popupButton">OK</div>'),Jr.current.score=parseInt(Jr.current.score,10)+Jr.current.guessWorth*Jr.current.multiplier,Jr.current.clueNo=Ct):Jr.current.clueNo+1===Ct?(GAME.sound.play("incorrect"),Zr.currentStreak=0,A(),Q("<h1>Sorry!</h1>No points this time... the word was <u>"+tn.answer+'</u><div class="popupButton">OK</div>'),Jr.current.clueNo=Ct):-1!==Kr.indexOf(" ")?(GAME.sound.play("incorrect"),Q('<h1>Too Bad!</h1>Not even a guess? Next time...<div class="popupButton">OK</div>')):(GAME.sound.play("incorrect"),Q("<h1>Nope!</h1>Good try, but <u>"+Kr+'</u> is not the answer<div class="popupButton">OK</div>'))}function L(){if(Kr===gn[Jr.current.clueNo])return GAME.sound.play("correct"),Ir[Jr.current.clueNo].removeClass("unanswered"),Zr.currentStreak++,Zr.longestStreak=Zr.currentStreak>Zr.longestStreak?Zr.currentStreak:Zr.longestStreak,A(),M(),void Q("<h1>Terrific!</h1>You correctly guessed <u>"+Kr+"</u> for "+Jr.current.pendingBonus[Jr.current.clueNo]+' bonus pts<div class="popupButton">OK</div>');GAME.sound.play("incorrect"),Ir[Jr.current.clueNo].text("0"),Ir[Jr.current.clueNo][0].className="bonusPts zero";for(var e=0;e<Lr[Jr.current.clueNo][0].children.length;e++){var t="";if("beginSpace"===Lr[Jr.current.clueNo][0].children[e].className||"endSpace"===Lr[Jr.current.clueNo][0].children[e].className){for(var r=0;r<gn[Jr.current.clueNo].length;r++)t+='<div class="space">'+gn[Jr.current.clueNo][r]+"</div>";Lr[Jr.current.clueNo][0].children[e].innerHTML=t;break}}Zr.currentStreak=0,A(),Q("<h1>Sorry!</h1>No points this time... the word was <u>"+gn[Jr.current.clueNo]+'</u><div class="popupButton">OK</div>'),Jr.current.pendingBonus[Jr.current.clueNo]=0}function I(e,t){var r=parseInt(Sr.text(),10),n=setInterval(function(){pn=!0,e>=r?Sr.text(r++):(clearInterval(n),pn=!1,t&&t())},10)}function W(){if(Jr.current.clueNo++,Jr.current.clueNo>=Ct){if(Jr.current.questionNo++,hn){for(var e=parseInt(Sr.text(),10),t=0;t<Jr.current.pendingBonus.length;t++)e+=Jr.current.pendingBonus[t];return Ur.text("You have earned "+(e-parseInt(Sr.text(),10))+" bonus pts!"),Ur.addClass("fadeInOutSlow"),void setTimeout(function(){Ur.removeClass("fadeInOutSlow"),Jr.current.pendingBonus.length=0,Jr.current.score=e,I(e,R)},Bt)}return void R()}D(),l(),_t(),GAME.sound.play("ding"),dt(),hn?H():ut(-Mt)}function R(){if(pn=!0,c(),er.addClass("hide"),Jr.current.clueNo=0,Jr.current.firstLettersRevealed=0,Jr.current.vowelRevealed&&$("#"+Jr.current.vowelRevealed).removeClass("disable"),Jr.current.vowelRevealed="",Jr.current.multiplier=1,Jr.current.allCluesRevealed=!1,Jr.current.lifeSaverPlayed=!1,vn=!0,Jr.current.guessWorth=0,ut(St),Gr.addClass("hide").removeClass("triple"),pr.removeClass("dim"),vr.removeClass("dim"),mr.removeClass("dim"),yr.removeClass("dim"),gr.removeClass("dim"),_r.removeClass("dim"),hn){lr.removeClass("hide"),dr.removeClass("hide"),fr.removeClass("hide"),Tr.removeClass("hide");for(var e=0;e<Ir.length;e++)Ir[e][0].className="bonusPts hide"}hn=-1!=wt.indexOf(Jr.current.questionNo),setTimeout(function(){pn=!1,B()},Dt)}function B(){return Jr.current.questionNo>=en[$t].length?(ln=!0,GAME.sound.play("winner"),Zr.gamesPlayed++,Zr.totalPoints+=Jr.current.score,Zr.highScore=Jr.current.score>Zr.highScore?Jr.current.score:Zr.highScore,A(),M(),Q("<h1>Game Over</h1>Your final score is "+Jr.current.score+'<div class="popupButton">OK</div>'),w(),void u()):(D(),_t(),void(hn?V():U()))}function D(){void 0!==Jr.current.bonusLettersRevealed&&null!==Jr.current.bonusLettersRevealed&&(Jr.current.bonusLettersRevealed.length=0)}function U(){tn=en[$t][Jr.current.questionNo],Or[0].className="clueCover",un=!1;for(var e=0;e<Lr.length;e++)q(e,!1);Jr.current.multiplier>1&&(Gr.text(Jr.current.multiplier),Gr.removeClass("hide")),Jr.current.vowelRevealed&&$("#"+Jr.current.vowelRevealed).addClass("disable"),kr.text(Jr.current.doubleScoresLeft),wr.text(Jr.current.tripleScoresLeft),Pr.text(Jr.tripleScoresBanked),Ar.text(Jr.lifeSaversBanked),Mr.text(Jr.current.revealAllLeft);var t=parseInt(Jr.current.questionNo,10)+1;br.text(t+"/"+en[$t].length),qr.addClass("show"),Ur.text("Round "+t),Cr.text(tn.answer.length),l(),Ur.addClass("fadeInOut"),setTimeout(function(){Ur.removeClass("fadeInOut"),Vr.text(tn.answer.length+" letters"),Vr.addClass("fadeInOut")},Bt),setTimeout(function(){Vr.removeClass("fadeInOut"),er.removeClass("hide")},2*Bt),setTimeout(function(){for(dt(),GAME.sound.play("ding"),e=0;e<=Jr.current.clueNo;e++)qr.removeClass("show");pn=!1,Jr.firstTimePlaying&&(zr=!1,X(),rt(),Jr.firstTimePlaying=!1,_t())},2*Bt+Dt)}function V(){var e,t=parseInt(Jr.current.clueNo,10);Nr.html(""),un=!0,lr.addClass("hide"),tn=en[$t][Jr.current.questionNo];for(var r=0;r<Lr.length;r++)if(q(r,!0),t>r){for(var n=0;n<Lr[r][0].children.length;n++)if("beginSpace"===Lr[r][0].children[n].className||"endSpace"===Lr[r][0].children[n].className){for(var o=0;o<gn[r].length;o++)Lr[r][0].children[n].children[o].innerText=gn[r][o];break}e=parseInt(Jr.current.pendingBonus[r],10),Y(r,e)}Jr.current.pendingBonus.length>Jr.current.clueNo&&Y(Jr.current.clueNo,parseInt(Jr.current.pendingBonus[Jr.current.clueNo],10));var s=parseInt(Jr.current.questionNo,10)+1;br.text(s+" / "+en[$t].length),Or[0].className="clueCover clue"+Ct,Kr="",qr.addClass("show"),Ur.text("BONUS ROUND!"),j(gn[t]),Ur.addClass("fadeInOut"),setTimeout(function(){Ur.removeClass("fadeInOut"),Vr.text("Guess all 5 clues"),Vr.addClass("fadeInOut")},Bt),setTimeout(function(){Vr.removeClass("fadeInOut"),er.removeClass("hide")},2*Bt),setTimeout(function(){for(dt(),GAME.sound.play("ding"),r=0;r<=Jr.current.clueNo;r++)qr.removeClass("show")},2*Bt+Dt),setTimeout(function(){for(var e=0;e<Jr.current.clueNo;e++)Ir[e].removeClass("hide");return pn=!1,Jr.current.pendingBonus.length>Jr.current.clueNo?void Ir[Jr.current.clueNo].addClass("unanswered").removeClass("hide"):void H()},2*Bt+2*Dt)}function H(){var e=gn[Jr.current.clueNo];Jr.current.bonusLettersSelected=Math.ceil(e.length/2-kt.LOW),Jr.current.bonusLettersSelected=Jr.current.bonusLettersSelected>0?Jr.current.bonusLettersSelected:0;var t=kt.LOW+parseInt(Jr.current.bonusLettersSelected,10),r=e.length>t,n=t>1?"Letters":"Letter";ir.text("Reveal "+t+" "+n),t=kt.MEDIUM+parseInt(Jr.current.bonusLettersSelected,10);var o=e.length>t;n=t>1?"Letters":"Letter",ar.text("Reveal "+t+" "+n),t=kt.HIGH+parseInt(Jr.current.bonusLettersSelected,10),n=t>1?"Letters":"Letter",sr.text("Reveal "+t+" "+n),ur.removeClass("show").addClass("hide"),lr.addClass("hide"),dr.addClass("hide"),fr.addClass("hide"),Tr.addClass("hide"),tr.removeClass("hide"),o&&(nr.removeClass("hide"),ar.removeClass("hide")),r&&(or.removeClass("hide"),ir.removeClass("hide")),rr.removeClass("hide"),sr.removeClass("hide")}function q(e,t){for(var r="",n=tn.clues[e].split("%"),o=0;o<n.length;o++)""===n[o]?t?(r+=o>0?'<div class="shownWord right">':'<div class="shownWord left">',r+=tn.answer,r+="</div>"):(r+=o>0?'<div class="beginSpace">':'<div class="endSpace">',r+=f(tn.answer),r+="</div>"):t?(gn[e]=n[o],r+=o>0?'<div class="beginSpace">':'<div class="endSpace">',r+=e!==Jr.current.clueNo?f(n[o],!0):f(n[o]),r+="</div>"):(r+=o>0?'<div class="shownWord right">':'<div class="shownWord left">',r+=n[o],r+="</div>");Lr[e].html(r)}function Y(e,t){var r;switch(Ir[e][0].className="bonusPts hide",t){case Nt.LOW:r="low";break;case Nt.MEDIUM:r="medium";break;case Nt.HIGH:r="high";break;default:r="zero"}Ir[e].addClass(r).text(t)}function j(e){Cr.text(e.length),removeAllChildren(Nr[0]),Kr="",Nr.html(f(e))}function F(e,t){var r,n=[];if(!pn){pn=!0,n=$.random(1,gn[Jr.current.clueNo].length-2,Jr.current.bonusLettersSelected+1),Jr.current.bonusLettersRevealed=n,t===kt.LOW&&Jr.current.bonusLettersRevealed.push(0),(t===kt.LOW||t===kt.MEDIUM)&&Jr.current.bonusLettersRevealed.push(gn[Jr.current.clueNo].length-1),Y(Jr.current.clueNo,e),r=f(gn[Jr.current.clueNo]),Nr.html(r);for(var o=0;o<Lr[Jr.current.clueNo][0].children.length;o++)if("beginSpace"===Lr[Jr.current.clueNo][0].children[o].className||"endSpace"===Lr[Jr.current.clueNo][0].children[o].className){Lr[Jr.current.clueNo][0].children[o].innerHTML=r;break}Jr.current.pendingBonus[Jr.current.clueNo]=e,_t(),Ir[Jr.current.clueNo].removeClass("hide").addClass("unanswered"),ur.removeClass("hide").addClass("show"),dr.removeClass("hide"),fr.removeClass("hide"),tr.addClass("hide"),rr.addClass("hide"),nr.addClass("hide"),or.addClass("hide"),sr.addClass("hide"),ar.addClass("hide"),ir.addClass("hide"),setTimeout(function(){pn=!1},Rt)}}function X(){return zr?($r.removeClass("selected"),Dr.addClass("hide"),void(zr=!1)):($r.addClass("selected"),Dr.removeClass("hide"),void(zr=!0))}function K(){GAME.sound.init(Jr.soundOn),Qt[0].style["background-image"]="url(images/"+Jr.bg.current+".jpg)",Jr.darkOn&&(Ut.addClass("dark"),Qt.addClass("dark")),document.body.className+=" "+Jr.font.classes[Jr.font.current]}function z(e){var t=[],r;switch(e){case"set_bg":Jr.bg.current++,Jr.bg.current>Jr.bg.max&&(Jr.bg.current=1),Qt[0].style["background-image"]="url(images/"+Jr.bg.current+".jpg)";break;case"set_dark":case"darkButton":Jr.darkOn?(Ut.removeClass("dark"),Qt.removeClass("dark"),Jr.darkOn=!1):(Ut.addClass("dark"),Qt.addClass("dark"),Jr.darkOn=!0);break;case"set_font":t=Jr.font.classes[Jr.font.current],Jr.font.current++,Jr.font.current===Jr.font.classes.length&&(Jr.font.current=0),r=document.body.className,document.body.className=r.replace(t,Jr.font.classes[Jr.font.current]);break;case"set_sound":Jr.soundOn?(Wr.addClass("off"),Jr.soundOn=!1,GAME.sound.mute(!0)):(Wr.removeClass("off"),Jr.soundOn=!0,GAME.sound.mute(!1));break;case"set_help":rt()}_t()}function J(){console.log("showGameView"),pn=!0,gt(!1,function(){Qt.removeClass("hide").removeClass("outToRight").addClass("inFromRight"),Ut.removeClass("inFromLeft").addClass("outToLeft"),Tr.text(Jr.current.guessWorth),Sr.text(Jr.current.score),hn=-1!=wt.indexOf(Jr.current.questionNo),setTimeout(function(){hn?V():U()},Wt)})}function Z(){C(),S(),cr.removeClass("show"),ur.removeClass("dim"),Qt.removeClass("hide").removeClass("inFromRight").addClass("outToRight"),Ut.removeClass("outToLeft").addClass("inFromLeft"),er.addClass("hide"),ln=!1}function Q(e,t){bn&&bn(),bn=t,Hr.html(e),Hr.addClass("show"),qr.addClass("show dim"),setTimeout(function(){rn=!0},Wt)}function et(){if(Hr.removeClass("show"),qr.removeClass("show").removeClass("dim"),rn=!1,Jr.firstTimeVersion21)return Jr.firstTimeVersion21=!1,_t(),void u();if(mn)return void(mn=!1);if(10===En)return En=0,void _t();if(_n.length>0){var e="<h1>Congrats!</h1>";e+=_n.length>1?"Achievements unlocked:":"Achievement unlocked:";for(var t=0;t<_n.length;t++)e+='<div class="achievement">'+_n[t]+"</div>";return _n.length=0,void Q(e+'<div class="popupButton">OK</div>')}return Jr.current.score===parseInt(Sr.text(),10)?void tt():void setTimeout(function(){I(Jr.current.score,tt)},Wt)}function tt(){return ln?void Z():void W()}function rt(){if(cn>=Tt){Rr.addClass("hide"),cn=0,X();for(var e=0;Tt>e;e++)Br[e][0].className="helpScreen";return void(Qt[0].style["background-image"]="url(images/"+Jr.bg.current+".jpg)")}0===cn?(Qt[0].style["background-image"]="none",Rr.removeClass("hide")):Br[cn-1].removeClass("show").addClass("hide"),Br[cn].removeClass("hide").addClass("show"),cn++}function nt(){Q('<h1>New Version!</h1>Welcome to the newly updated Word Clues 2!<ul class="newVersionList"><li>Life Saver: if you get stuck after seeing all clues, we will bail you out by revealing all but one letter in the answer, while giving you a score of at least 50 pts!</li><li>Triple Word Score: 3x your score, once per game!</li><li>Achievements: accessed by touching "Leaders"</li><li>Bonus Round: we give you the answer, you give us the clues!</li></ul><div class="popupButton">OK</div>')}function ot(){hr.addClass("show"),qr.addClass("show dim"),setTimeout(function(){rn=!0,sn=!0},Wt),(0===Jr.current.tripleScoresLeft||1!==Jr.current.multiplier)&&vr.addClass("dim"),(0===Jr.current.doubleScoresLeft||1!==Jr.current.multiplier)&&pr.addClass("dim"),(0===Jr.current.revealAllLeft||Jr.current.allCluesRevealed||Jr.current.lifeSaverPlayed)&&yr.addClass("dim"),(Jr.current.lifeSaverPlayed||Jr.current.clueNo+1<Ct)&&mr.addClass("dim"),(Jr.current.firstLettersRevealed>0||Jr.current.lifeSaverPlayed)&&gr.addClass("dim"),(Jr.current.vowelRevealed.length>0||Jr.current.lifeSaverPlayed)&&_r.addClass("dim")}function st(e,t){GAME.sound.play("lowClick"),hr.removeClass("show"),qr.removeClass("show").removeClass("dim"),rn=!1,sn=!1,void 0!==e&&setTimeout(function(){e(t)},Wt)}function at(){Er.addClass("show"),qr.addClass("show dim"),setTimeout(function(){rn=!0,an=!0},Wt)}function it(){Er.removeClass("show"),qr.removeClass("show").removeClass("dim"),rn=!1,an=!1}function ut(e){Jr.current.guessWorth+=e?e:0,Tr.text(Jr.current.guessWorth)}function lt(){l(),Jr.current.clueNo=Ct-1,Jr.current.allCluesRevealed=!0,_t(),GAME.sound.play("ding"),dt()}function ct(){Jr.current.lifeSaverPlayed=!0,vn=!0,Jr.current.guessWorth<50&&(Jr.current.guessWorth=50,Tr.text(Jr.current.guessWorth));for(var e=tn.answer.length;e--;)if(" "===Kr[e]||""===Kr[e]){Jr.current.firstLettersRevealed=e;break}Jr.lifeSaversBanked--,Ar.text(Jr.lifeSaversBanked),_t(),l()}function dt(){Or[0].className="clueCover clue"+(parseInt(Jr.current.clueNo,10)+1),xr.text(Jr.current.clueNo===Ct?"":Ct-Jr.current.clueNo-1),Jr.current.clueNo+1>=Ct&&mr.removeClass("dim")}function ft(e){GAME.bridge.request("get.appSettings","",function(t,r){if(t)console.log(t),Jr=GAME.DEFAULT.settingsCache;else if("object"!=typeof r||isEmptyObj(r))console.log("Applying DEFAULT SETTINGS"),Jr=GAME.DEFAULT.settingsCache;else{Jr=r;for(var n in GAME.DEFAULT.settingsCache)copyProperty(n,GAME.DEFAULT.settingsCache,Jr)}e()})}function ht(e){GAME.bridge.request("get.achievements","",function(t,r){if(t)return void console.log(t);if("object"!=typeof r||isEmptyObj(r))Qr=cloneStructure(GAME.DEFAULT.achievementsCache);else{Qr=r;for(var n in GAME.DEFAULT.achievementsCache)copyProperty(n,GAME.DEFAULT.achievementsCache,Qr)}vt(e)})}function pt(e){GAME.bridge.request("get.stats","",function(t,r){return t?void console.log(t):(Zr="object"!=typeof r||isEmptyObj(r)?cloneStructure(GAME.DEFAULT.statsCache):r,void mt(e))})}function vt(e){for(var t in e)100==e[t].value&&(Qr[t]={value:100});yt()}function mt(e){void 0!==e&&null!==e&&void 0!==e.gamesPlayed&&(void 0===Zr.gamesPlayed||void 0!==Zr.gamesPlayed&&e.gamesPlayed>=Zr.gamesPlayed)&&(Zr=e),A(),w()}function gt(e,t){var r=e?"generate.game":"get.game";GAME.bridge.request(r,"",function(r,n){return r?void console.log(r):void("object"!=typeof n||isEmptyObj(n)?e?(console.log("ERROR. How it got here?"),en=GAME.DEFAULT.gameCache):gt(!0,t):(en=n,e&&Et(),t&&t()))})}function _t(){GAME.bridge.request("set.appSettings",Jr)}function yt(){GAME.bridge.request("set.achievements",Qr)}function Et(){GAME.bridge.request("set.game",en)}function bt(e){var t=e;try{for(;t&&!t.getAttribute("id");)t=t.parentNode;return t?t.id:null}catch(r){return null}}var Tt=3,Ct=5,St=100,Nt={LOW:20,MEDIUM:40,HIGH:80},kt={LOW:3,MEDIUM:2,HIGH:1},wt=[4,9],Pt=4,At=1,Mt=10,Gt=25,Ot=2,xt=5,Lt=10,It=St*At*2+St*Pt+Nt.HIGH*wt.length*Ct+St*(Lt-wt.length),Wt=320,Rt=520,Bt=1520,Dt=1e3,$t=0,Ut,Vt,Ht,qt,Yt,jt,Ft,Xt,Kt,zt,Jt,Zt,Qt,er,tr,rr,nr,or,sr,ar,ir,ur,lr,cr,dr,fr,hr,pr,vr,mr,gr,_r,yr,Er,br,Tr,Cr,Sr,Nr,kr,wr,Pr,Ar,Mr,Gr,Or,xr,Lr=[],Ir=[],Wr,Rr,Br=[],Dr,$r,Ur,Vr,Hr,qr,Yr,jr,Fr,Xr,Kr,zr=!1,Jr,Zr={},Qr={},en,tn,rn,nn,on,sn,an,un,ln,cn,dn,fn,hn,pn,vn,mn,gn=[],_n=[],yn=xt,En=0,bn;return $(e).bind("load",t),{onTouchEvent:n,routeTouchEvent:o,isTouchDisabled:function(){return pn},messages:{}}}(this),function(e){function t(){console.log("android onloaded"),r.element="",r.top=-1,r.left=-1,r.time=(new Date).getTime()}var r={};GAME.game.onTouchEvent=function(e){console.log("android touch event");var t=(new Date).getTime();return GAME.game.isTouchDisabled()||t-r.time<=300&&r.element!==e.target||r.top==e.target.offsetTop&&r.left==e.target.offsetLeft&&t-r.time<=300&&r.element===e.target?void(r.element=e.target):(r.element=e.target,r.top=e.target.offsetTop,r.left=e.target.offsetLeft,r.time=t,void GAME.game.routeTouchEvent(e))},$(e).bind("load",t)}(this),function(e){GAME.messages={settingsFacebook:"Apps > Facebook",settingsTwitter:"Apps > Twitter",linkStore:"amzn://apps/android?asin=M3PQI3OWGSB28Y"}}(this),GAME.sound=function(){function e(e){void 0!==e&&(o=!e),n=new Howl({urls:["data/sounds.mp3"],sprite:{click:[0,155],swoosh:[26,415],clickSwoosh:[0,441],ding:[700,2610],correct:[3310,3300],winner:[6610,5062],secret:[11672,2342],incorrect:[14014,3381],power:[17395,2500],keyClick:[20026,100],keyBack:[20026,156],lowClick:[20190,1500]}})}function t(e){return;o||n.play(e)}function r(e){o=e}var n,o=!1;return{init:e,play:t,mute:r}}(),GAME.DEFAULT={},GAME.DEFAULT.settingsCache={soundOn:!0,bg:{current:1,max:11,random:!1},darkOn:!1,font:{current:0,classes:["","fontOpenSansLight","fontAudiowide","fontKaushanScript","fontSalsa","fontFantasy"]},current:{score:0,questionNo:0,clueNo:0,tripleScoresLeft:1,doubleScoresLeft:4,revealAllLeft:2,multiplier:1,firstLettersRevealed:0,vowelRevealed:"",guessWorth:100,allCluesRevealed:!1,lifeSaverPlayed:!1,bonusLettersSelected:0,pendingBonus:[],bonusLettersRevealed:[]},firstTimePlaying:!0,firstTimeVersion21:!0,tripleScoresBanked:1,lifeSaversBanked:1},GAME.DEFAULT.achievementsCache={WordClues500PointGame:{value:0},WordClues1000PointGame:{value:0},WordClues1500PointGame:{value:0},WordClues2000PointGame:{value:0},WordCluesPerfectGame:{value:0},WordClues10GamesPlayed:{value:0},WordClues50GamesPlayed:{value:0},WordClues100GamesPlayed:{value:0},WordClues150GamesPlayed:{value:0},WordClues200GamesPlayed:{value:0},WordClues10000TotalPoints:{value:0},WordClues25000TotalPoints:{value:0},WordClues50000TotalPoints:{value:0},WordClues75000TotalPoints:{value:0},WordClues100000TotalPoints:{value:0},WordClues250000TotalPoints:{value:0},WordCluesStreak10:{value:0},WordCluesStreak25:{value:0},WordCluesStreak50:{value:0},WordCluesStreak100:{value:0},WordCluesStreak200:{value:0}},GAME.DEFAULT.statsCache={playerID:"",gamesPlayed:0,totalPoints:0,avgPoints:0,highScore:0,longestStreak:0,currentStreak:0},GAME.bridge=function(){"use strict";
function e(e){if(u=e,null!==u&&void 0!==u){for(var t=0;t<i.length;t++)u(i[t]);i=[]}}function t(e,t,n){o(e,t,void 0!==n?function(e,t){if(void 0!==n){var r=null;try{r=JSON.parse(t)}catch(o){r=t}n(null,r&&r.content?r.content:r)}}:r)}function r(e,t){if(null!==t&&void 0!==t)if(null!==u&&void 0!==u){var r=JSON.parse(t);null!==e&&(r.topic=e),u(r)}else i.push(JSON.parse(t))}function n(e,t){try{var r=l[e];if(!r)return;delete l[e],r.apply(null,t)}catch(n){console.log(n)}}function o(e,t,r){var n=r&&"function"==typeof r,o=n?a++:0;if(n&&(l[o]=r),"undefined"!=typeof NativeBridge)try{var s=null!==t&&void 0!==t?JSON.stringify(t):null;NativeBridge.handleJavascript(e,o,s)}catch(i){console.log("Error calling native code: "+i)}else{var u=document.createElement("IFRAME"),c=t?":"+encodeURIComponent(JSON.stringify(t)):":";u.setAttribute("src","wmw:"+e+":"+o+c),document.documentElement.appendChild(u),u.parentNode.removeChild(u),u=null}}function s(e){console.log("Error: "+e)}var a=1,i=[],u,l={};return{init:e,request:t,response:r,resultForCallback:n,logError:s}}();